<span class="zyfra-input" [class.zyfra-input_disabled]="disabled" [class.p-float-label]="label">
  <p-autoComplete
    [(ngModel)]="value"
    [suggestions]="suggestions"
    [field]="field"
    [scrollHeight]="scrollHeight"
    [dropdown]="dropdown"
    [multiple]="multiple"
    [dropdownIcon]="dropdownIcon"
    [minLength]="minLength"
    [delay]="delay"
    [completeOnFocus]="completeOnFocus"
    [style]="style"
    [inputStyle]="inputStyle"
    [panelStyle]="panelStyle"
    [styleClass]="styleClass"
    [inputStyleClass]="inputStyleClass"
    [panelStyleClass]="panelStyleClass"
    [inputId]="inputId"
    [name]="name"
    [optionGroupLabel]="optionGroupLabel"
    [group]="group"
    [optionGroupChildren]="optionGroupChildren"
    [placeholder]="placeholder"
    [readonly]="readonly"
    [disabled]="disabled"
    [maxlength]="maxlength"
    [size]="size"
    [appendTo]="appendTo"
    [tabindex]="tabindex"
    [dataKey]="dataKey"
    [autoHighlight]="autoHighlight"
    [type]="type"
    [showEmptyMessage]="showEmptyMessage"
    [emptyMessage]="emptyMessage"
    [required]="required"
    [autofocus]="autofocus"
    [forceSelection]="forceSelection"
    [dropdownMode]="dropdownMode"
    [baseZIndex]="baseZIndex"
    [autoZIndex]="autoZIndex"
    [showTransitionOptions]="showTransitionOptions"
    [hideTransitionOptions]="hideTransitionOptions"
    [ariaLabel]="ariaLabel"
    [ariaLabelledBy]="ariaLabelledBy"
    [unique]="unique"
    [autocomplete]="autocomplete"
    [virtualScroll]="virtualScroll"
    [itemSize]="itemSize"
    (ngModelChange)="valueChange.emit($event)"
    (completeMethod)="completeMethod.emit($event)"
    (onFocus)="onFocus.emit($event)"
    (onBlur)="onBlur.emit($event)"
    (onKeyUp)="onKeyUp.emit($event)"
    (onSelect)="onSelect.emit($event)"
    (onUnselect)="onUnselect.emit($event)"
    (onDropdownClick)="onDropdownClick.emit($event)"
    (onClear)="onClear.emit($event)"
    (onShow)="onShow.emit($event)"
    (onHide)="onHide.emit($event)"
  >
    <ng-template [ngIf]="dropdown">
      <ng-template pTemplate="item" [ngIf]="itemTemplate" [ngIfElse]="defaultItem" let-obj>
        <ng-container *ngTemplateOutlet="itemTemplate; context: { $implicit: obj }"></ng-container>
      </ng-template>
      <ng-template #defaultItem>
        <ng-template let-obj pTemplate="item">
          {{ obj[field] }}
        </ng-template>
      </ng-template>

      <ng-template pTemplate="selectedItem" [ngIf]="selectedItemTemplate" let-obj>
        <ng-container *ngTemplateOutlet="selectedItemTemplate; context: { $implicit: obj }"></ng-container>
      </ng-template>
    </ng-template>
  </p-autoComplete>

  <label *ngIf="label" [class.label-required]="required">{{ label }}</label>
</span>
