import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  ColorPalette,
  ColorItem,
  Preview,
  Typeset,
  Title,
  Subtitle,
  Description,
} from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { storiesOf } from '@storybook/angular';
import { ZyfraAutoCompleteComponent } from './zyfra-auto-complete.component';

## Zyfra - AutoComplete

<Subtitle>AutoComplete is an input component that provides real-time suggestions when being typed</Subtitle>

```
npm i @zyfra/zyfra-auto-complete
```

Import module:

```typescript
import { ZyfraAutoCompleteModule } from '@zyfra/zyfra-auto-complete';

@NgModule({
  imports: [ZyfraAutoCompleteModule],
})
export class YourModule {}
```

To component:

```html
<zyfra-auto-complete
  [(model)]="selectedCountry"
  [suggestions]="suggestions"
  field="name"
  minLength="1"
  placeholder="Выберите страну"
  dropdown="true"
  (completeMethod)="completeMethodHandler($event)"
></zyfra-auto-complete>
```

```typescript
public countries: [
  { name: 'Argentina', code: 'AR' },
  { name: 'Armenia', code: 'AM' },
  { name: 'Aruba', code: 'AW' },
  { name: 'Russia', code: 'RU' },
  { name: 'India', code: 'IN' },
  { name: 'Indonesia', code: 'ID' },
  { name: 'Iran, Islamic Republic Of', code: 'IR' },
  { name: 'Iraq', code: 'IQ' },
  { name: 'Ireland', code: 'IE' },
  { name: 'Isle of Man', code: 'IM' },
  { name: 'Israel', code: 'IL' },
  { name: 'Italy', code: 'IT' },
  { name: 'Zambia', code: 'ZM' },
  { name: 'Zimbabwe', code: 'ZW' }
];

completeMethodHandler(event): void {
  const filtered = [];
  const query = event.query;

  for (const country of this.countries) {
    if (country.name.toLowerCase().indexOf(query.toLowerCase()) === 0) {
      filtered.push(country);
    }
  }

  this.suggestions = filtered;
}
```

## ArgsTable

<ArgsTable of={ZyfraAutoCompleteComponent} />
