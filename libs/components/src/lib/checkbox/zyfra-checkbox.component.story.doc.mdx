import { ArgsTable, Subtitle } from '@storybook/addon-docs';
import { ZyfraCheckboxComponent } from './zyfra-checkbox.component.ts';
import { moduleMetadata } from '@storybook/angular';
import { storiesOf } from '@storybook/angular';

## ZyfraCheckBox

<Subtitle>Checkbox is an extension to standard checkbox element with theming</Subtitle>

Import module:

```typescript
import { ZyfraCheckBoxModule } from '@digital-plant/zyfra-components';

@NgModule({
  imports: [ZyfraCheckBoxModule],
})
export class YourModule {}
```

To component:

```html
<zyfra-checkbox name="checked" [binary]="true" label="checkbox" [(model)]="model"> ></zyfra-checkbox>
```

## ArgsTable

<ArgsTable of={ZyfraCheckboxComponent} />


## Multiple Values

#### Checkbox can either be used in multiple selection with other checkboxes with FormControl

Example:
```ts

//For example in Storybook
@Component({
  selector: 'zyfra-checkbox-multiple',
  template: ` <form [formGroup]="form">
    <div *ngFor="let data of data">
      <zyfra-checkbox
        *ngFor="let check of data.options"
        [label]="check.label"
        [value]="check.value"
        [formControlName]="data.text"
      >
      </zyfra-checkbox>
    </div>
  </form>`,
  changeDetection: ChangeDetectionStrategy.OnPush,
  styleUrls: ['./miltiple-checkbox.component.less'],
})
export class ZyfraCheckboxMultipleComponent {
  @Input() label: string;
  @Input() binary: boolean = true;
  @Input() style: object = null;
  @Input() styleClass: string = null;
  @Input() checkboxIcon = 'zyfra-icon selection-check-simple';

  form: FormGroup;
  data: DataFormControl[];

  constructor(private formBuilder: FormBuilder) {
    this.data = data;
    this.form = this.getFormGroup();
  }

  public getFormGroup(): any {
    const formControls = this.data.reduce((controls, dataForm: DataFormControl): any => {
      controls[dataForm.text] = this.formBuilder.control(null);
      return controls;
    }, {});
    return this.formBuilder.group(formControls);
  }
}
```

#### It must also has a data

Example:
```ts

export interface DataFormControl {
  text: string;
  options: { value: string | number; label: string }[];
}

export const data: DataFormControl[] = [
  {
    text: 'Checkbox',
    options: [
      {
        value: 1,
        label: 'Value 1',
      },
      {
        value: 2,
        label: 'Value 2',
      },
      ///...
    ],
  },
];

```


