<div class='blocks'>
  <label class='every value-block block'
       *prizmLet='type.every as currentType'
       [class.selected]='typeControl.value === currentType'>
    <div class='radio'>
      <prizm-radio-button
        [formControl]="typeControl"
        [label]='null'
        [value]="currentType"
        [name]="'type'"
      ></prizm-radio-button>
    </div>
    <div class='content row'>
      Каждая секунда
    </div>
  </label>

  <label  class='block row'
       *prizmLet='type.after as currentType'
       [class.selected]='typeControl.value === currentType'>
    <div class='radio'>
      <prizm-radio-button
        [formControl]="typeControl"
        [label]='null'
        [value]="currentType"
        [name]="'type'"
      ></prizm-radio-button>
    </div>
    <div class='content row'>
      <span>Каждая</span>
      <prizm-cron-carousel
        [content]='periodRepeat'
        [value]='afterRepeatValue'
        (valueChange)='afterRepeatValue = $event; updateAfter()'
      >
        <ng-template #content let-value="content">
          {{value}}
        </ng-template>
      </prizm-cron-carousel>
      <span>секунда, начиная с</span>

      <prizm-cron-carousel
        [content]='periodAfter'
        [value]='afterRepeatStart'
        (valueChange)='afterRepeatStart = $event; updateAfter()'
      ></prizm-cron-carousel>
    </div>
  </label>

  <label  class='block'
       *prizmLet='type.specified as currentType'
       [class.selected]='typeControl.value === currentType'>
    <div class='radio'>
      <prizm-radio-button
        [formControl]="typeControl"
        [label]='null'
        [value]="currentType"
        [name]="'type'"
      ></prizm-radio-button>
    </div>
    <div class='content column'>
      <span>Выбранная секунда (выбор одного или нескольких)</span>
      <prizm-cron-schedule
        [items]='items'
        [selected]='selected$ | async'
        (selectedChange)='updateSelected($event)'
      ></prizm-cron-schedule>
    </div>
  </label>

  <label  class='block row'
       *prizmLet='type.between as currentType'
       [class.selected]='typeControl.value === currentType'>
    <div class='radio'>
      <prizm-radio-button
        [formControl]="typeControl"
        [label]='null'
        [value]="currentType"
        [name]="'type'"
      ></prizm-radio-button>
    </div>
    <div class='content'>
      <span>Каждая секунда с</span>
      <prizm-cron-carousel
        #start
        [content]='periodStart'
        [value]='$any(between$ | async | prizmPluck : "1")'
        (valueChange)='updateBetween($event, end.value)'
      ></prizm-cron-carousel>
      <span>до</span>
      <prizm-cron-carousel
        #end
        [content]='periodEnd'
        [value]='$any(between$ | async | prizmPluck : "0")'
        (valueChange)='updateBetween(start.value, $event)'
      ></prizm-cron-carousel>
    </div>
  </label>
</div>
