<prizm-input-layout-date-range
  #focusableElementRef
  [disabledItemHandler]="disabledItemHandler"
  (prizmOutsideEvent)="focusableElementRef.onOpenChange(false)"
  [markerHandler]="markerHandler"
  (prizmAfterViewInit)="focusableElementRef.closeOnOutsideClick = false"
  [defaultViewedMonth]="defaultViewedMonth"
  [items]="items"
  [ngModel]="value?.dayRange"
  (ngModelChange)="updateDayRange($event)"
  [placeholder]="placeholder"
  [min]="min?.day"
  [max]="max?.day"
>
  <ng-template #footerTo let-zone="zone">
    <prizm-input-layout label="Время">
      <prizm-input-layout-time
        [prizmEventZoneParent]="zone"
        [style.--prizm-dropdown-host-width]="'100%'"
        [ngModel]="value?.timeRange?.to"
        (ngModelChange)="updateTimeTo($event)"
        [strict]="timeStrict"
        [items]="timeItems"
        [mode]="timeMode"
      >
      </prizm-input-layout-time>
    </prizm-input-layout>
  </ng-template>
  <ng-template #footerFrom let-zone="zone">
    <prizm-input-layout label="Время">
      <prizm-input-layout-time
        [prizmEventZoneParent]="zone"
        [style.--prizm-dropdown-host-width]="'100%'"
        [ngModel]="value?.timeRange?.from"
        (ngModelChange)="updateTimeFrom($event)"
        [items]="timeItems"
        [mode]="timeMode"
      >
      </prizm-input-layout-time>
    </prizm-input-layout>
  </ng-template>
</prizm-input-layout-date-range>

<ng-container *prizmInputLayoutRight>
  <button
    prizmInputIconButton="date-calendar-range"
    [interactive]="true"
    [disabled]="disabled"
    (click)="onOpenChange(true, focusableElementRef)"
  ></button>
</ng-container>
