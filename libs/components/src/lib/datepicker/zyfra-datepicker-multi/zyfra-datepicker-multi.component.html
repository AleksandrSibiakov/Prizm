<ng-container *ngIf="mode === 'relative'; else absoluteTemplate">
  <zyfra-relative-datepicker
    [label]="label"
    [placeholder]="placeholder"
    [disabled]="disabled"
    [required]="required"
    [showClear]="showClear"
    [ngModel]="relativeValue"
    (ngModelChange)="valueChange.emit($event)"
  >
    <ng-container buttons>
      <ng-container *ngTemplateOutlet="selectButtonTemplate"></ng-container>
    </ng-container>
  </zyfra-relative-datepicker>
</ng-container>

<ng-template #absoluteTemplate>
  <zyfra-calendar
    (onInput)="onInput.emit($event)"
    (onBlur)="onBlur.emit($event)"
    (onClose)="onClose.emit($event)"
    (onSelect)="onSelect.emit($event)"
    (onTodayClick)="onTodayClick.emit($event)"
    (onClearClick)="onClearClick.emit($event)"
    (onMonthChange)="onMonthChange.emit($event)"
    (onYearChange)="onYearChange.emit($event)"
    (onClickOutside)="onClickOutside.emit($event)"
    (onShow)="onShow.emit($event)"
    (ngModelChange)="valueChange.emit($event)"
    [label]="label"
    [ngModel]="absoluteValue"
    [defaultDate]="defaultDate"
    [selectionMode]="selectionMode"
    [style]="style"
    [styleClass]="styleClass"
    [inputStyle]="inputStyle"
    [inputStyleClass]="inputStyleClass"
    [inputId]="inputId"
    [name]="name"
    [placeholder]="placeholder"
    [disabled]="disabled"
    [dateFormat]="dateFormat"
    [inline]="inline"
    [showOtherMonths]="showOtherMonths"
    [selectOtherMonths]="selectOtherMonths"
    [showIcon]="showIcon"
    [showOnFocus]="showOnFocus"
    [showWeek]="showWeek"
    [icon]="icon"
    [appendTo]="appendTo"
    [readonlyInput]="readonlyInput"
    [shortYearCutoff]="shortYearCutoff"
    [minDate]="minDate"
    [maxDate]="maxDate"
    [disabledDates]="disabledDates"
    [disabledDays]="disabledDays"
    [showTime]="showTime"
    [hourFormat]="hourFormat"
    [timeOnly]="timeOnly"
    [timeSeparator]="timeSeparator"
    [dataType]="dataType"
    [required]="required"
    [tabindex]="tabindex"
    [ariaLabelledBy]="ariaLabelledBy"
    [iconAriaLabel]="iconAriaLabel"
    [showSeconds]="showSeconds"
    [stepHour]="stepHour"
    [stepMinute]="stepMinute"
    [stepSecond]="stepSecond"
    [maxDateCount]="maxDateCount"
    [showButtonBar]="showButtonBar"
    [todayButtonStyleClass]="todayButtonStyleClass"
    [clearButtonStyleClass]="clearButtonStyleClass"
    [baseZIndex]="baseZIndex"
    [autoZIndex]="autoZIndex"
    [panelStyleClass]="panelStyleClass"
    [panelStyle]="panelStyle"
    [keepInvalid]="keepInvalid"
    [hideOnDateTimeSelect]="hideOnDateTimeSelect"
    [numberOfMonths]="numberOfMonths"
    [view]="view"
    [multipleSeparator]="multipleSeparator"
    [rangeSeparator]="rangeSeparator"
    [touchUI]="touchUI"
    [focusTrap]="focusTrap"
    [showTransitionOptions]="showTransitionOptions"
    [hideTransitionOptions]="hideTransitionOptions"
    [firstDayOfWeek]="firstDayOfWeek"
  >
    <ng-container buttons-right>
      <ng-container *ngTemplateOutlet="selectButtonTemplate"></ng-container>
    </ng-container>
  </zyfra-calendar>
</ng-template>

<ng-template #selectButtonTemplate>
  <button
    type="button"
    class="zyfra-datepicker-control zyfra-datepicker-button"
    (click)="onClickButtonSelect($event, select)"
  >
    <zyfra-datepicker-mode-select
      #select
      [mode]="mode"
      (selectChanged)="onSelectChanged($event)"
    ></zyfra-datepicker-mode-select>
  </button>
</ng-template>
