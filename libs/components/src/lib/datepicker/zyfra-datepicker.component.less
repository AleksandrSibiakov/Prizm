@icon-font-family: ZyfraIcons;

.zyfra-datepicker {
  .p-datepicker table {
    font-size: 0.8rem;
  }

  position: relative;
  display: inline-block;

  .zyfra-icon {
    font-size: @20px;
    color: var(--eventer);

    &:hover {
      color: var(--buttonSuccessHover);
    }
  }
  .p-disabled {
    opacity: 1;
    background-color: transparent;
  }
  &-controls {
    display: flex;
    align-items: center;
    z-index: 1;
  }

  &-control {
    height: 100%;
    width: @40px;
    background-color: transparent;

    & > .zyfra-input,
    & > .zyfra-datepicker-button,
    .p-dropdown-trigger {
      width: 100%;
      height: 100%;
    }
  }

  &-button {
    cursor: pointer;
    border: none;
    background-color: transparent;
    &:disabled {
      pointer-events: none;
    }
    &:focus,
    &:hover {
      outline: none;
      .zyfra-icon {
        color: var(--buttonSuccessHover);
      }
    }
  }

  p-calendar {
    display: block;
    width: 0;
    height: 0;
    border: none;
    .p-inputtext {
      width: 0;
      height: 0;
      padding: 0;
      border: 0;
    }
  }

  &-dropdown {
    width: @40px;
    &.p-dropdown {
      border: none;
      display: inline-block;
      height: 100%;
      &:not(.p-disabled).p-focus {
        box-shadow: none;
      }
      .p-inputtext {
        display: none;
      }
    }
    &-overlay.p-dropdown-panel {
      background: var(--standartBg);
      box-shadow: 0 @8px @32px rgba(102, 119, 153, 0.24);
      border-radius: @12px;
      overflow: hidden;
      .p-dropdown-items .p-dropdown-item {
        padding: @12px @56px @12px @24px;
        &.p-highlight {
          color: var(--textColor);
          .zyfra-icon {
            color: var(--textColor);
          }
          .p-radiobutton {
            pointer-events: none;
          }
        }
        &:hover:not(.p-highlight) {
          .mode-item .zyfra-icon {
            color: var(--textColor);
          }
        }
        .zyfra-icon {
          font-size: @20px;
          color: var(--eventer);
          margin-left: @10px;
          margin-right: @17px;
        }
        .mode-item {
          display: flex;
        }
      }
      .p-dropdown-items-wrapper {
        visibility: visible;
        &::-webkit-scrollbar {
          width: @3px;
        }
        &::-webkit-scrollbar-thumb {
          background-color: var(--calendarBgChecked);
        }
      }
    }
  }

  .p-datepicker {
    &,
    &:not(.p-datepicker-inline) {
      background: var(--standartBg);
      color: var(--standartFont);
      border: @1px solid var(--standartBorder);
      box-shadow: 0 @8px @32px rgba(102, 119, 153, 0.24);
      border-radius: @8px;
      padding: 0;
    }

    &-header .p-datepicker-prev,
    &-header .p-datepicker-next {
      width: @32px;
      height: @32px;
    }

    &-header,
    &:not(.p-datepicker-inline) .p-datepicker-header {
      padding: 0;
      color: var(--standartFont);
      background: var(--standartBg);

      .p-datepicker-title {
        margin-right: auto;
        margin-left: 0;
        color: var(--eventer);
        font-size: @13px;
        font-weight: 400;
        padding-left: @6px;
      }
    }

    table {
      font-size: @13px;

      th {
        padding: @8px;
      }
    }

    &-month {
      border: none;
      cursor: pointer;
      color: var(--eventer);
      &::after {
        content: '';
        width: @13px;
        height: 0.5em;
        background-color: var(--eventer);
        clip-path: polygon(100% 0%, 0 0%, 50% 100%);
      }
    }
    &-prev,
    &-next {
      order: 1;

      &-icon {
        font-family: @icon-font-family;
        font-style: normal;
        font-size: @20px;
        color: var(--eventer);

        &::before {
          content: 'chevrons_left_icon';
        }
      }
    }
    &-next {
      order: 2;
      &-icon {
        &::before {
          content: 'chevrons_right_icon';
        }
      }
    }
    &-calendar {
      margin: 0;
      td,
      td.p-datepicker-today {
        padding: 0;

        & > span {
          width: @40px;
          height: @40px;
          border-radius: 50%;
          border: none;

          &.p-highlight {
            background: var(--calendarBgHighlight);
            color: var(--successColorHover);
          }
        }
      }
      td.p-datepicker-today {
        & > span {
          border: @1px solid var(--eventer);
          background: var(--calendarBgHover);
        }
      }
      td:nth-last-child(-n + 2):not(.p-datepicker-other-month) {
        color: var(--weekendDayColor);
      }
      td.p-datepicker-other-month {
        color: var(--colorDisabled);
      }
    }
    &-group-container {
      padding: @8px;
    }
    &.p-datepicker-multiple-month {
      &-group {
        border-right: none;
        .p-datepicker-header,
        &:not(.p-datepicker-inline) .p-datepicker-header {
          .p-datepicker-title {
            margin-left: auto;
          }
          .p-datepicker-prev,
          .p-datepicker-next {
            order: 0;
          }
        }
      }
    }
    &:not(.p-disabled) table td > span:not(.p-highlight):not(.p-disabled):hover {
      background: var(--calendarBgHover);
    }
  }

  &-calendar {
    &-footer {
      padding: @8px @16px @16px;
      box-shadow: 0 -@2px @8px rgba(102, 119, 153, 0.16);

      .p-button {
        width: 100%;
      }
    }
  }
}

.zyfra-datepicker,
zyfra-relative-datepicker {
  .p-inputgroup > .p-float-label > .p-component:focus {
    z-index: auto;
  }
}
