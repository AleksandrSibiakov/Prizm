<div class="tab-container" [class]="styleClass">
  <div class="scroll-control scroll-control-left shadow-mini-right-container">
    <div class="control-group">
      <i #prevControl class="pi pi-angle-left control-icon" (click)="scrollPrevious()"></i>
    </div>
  </div>
  <p-tabView
    [activeIndex]="activeIndex"
    [controlClose]="controlClose"
    [style]="style"
    [styleClass]="styleClass"
    (activeIndexChange)="activeIndexChangeHandler($event)"
    (onChange)="handleChange($event)"
    (onClose)="handleClose($event)"
  >
    <ng-container *ngFor="let tab of tabs">
      <p-tabPanel
        [header]="tab.header"
        [selected]="tab.selected"
        [disabled]="tab.disabled"
        [closable]="tab.closable"
        [leftIcon]="tab.leftIcon"
        [rightIcon]="tab.rightIcon"
        [headerStyle]="tab.headerStyle"
        [headerStyleClass]="tab.headerStyleClass"
        [cache]="tab.cache"
        [tooltip]="tab.tooltip"
        [tooltipPosition]="tab.tooltipPosition"
        [tooltipStyleClass]="tab.tooltipStyleClass"
      >
        <ng-template *ngIf="tab.headerTemplate" pTemplate="header">
          <ng-container
            [ngTemplateOutlet]="tab.headerTemplate"
            [ngTemplateOutletContext]="{ $implicit: tab }"
          ></ng-container>
        </ng-template>

        <ng-template *ngIf="tab.contentTemplate" pTemplate="content">
          <ng-container
            [ngTemplateOutlet]="tab.contentTemplate"
            [ngTemplateOutletContext]="{ $implicit: tab }"
          ></ng-container>
        </ng-template>

        <ng-container
          [ngTemplateOutlet]="tab.implicitContent"
          [ngTemplateOutletContext]="{ $implicit: tab }"
        ></ng-container>
      </p-tabPanel>
    </ng-container>
  </p-tabView>

  <div class="scroll-control scroll-control-right shadow-mini-left-container">
    <div class="control-group">
      <i class="pi pi-ellipsis-v control-icon" (click)="op.toggle($event)"></i>
      <i #nextControl class="pi pi-angle-right control-icon" (click)="scrollNext()"></i>
    </div>
  </div>

  <p-overlayPanel #op [appendTo]="tabListContainer">
    <ng-template pTemplate>
      <div
        *ngFor="let tab of tabList"
        class="tab-list-item text-overflow"
        [class.disabled]="tab.disabled"
        tooltipPosition="bottom"
        [pTooltip]="tab.header"
        (click)="selectTabFromList($event, tab.index); op.hide()"
      >
        {{ tab.header }}
      </div>
    </ng-template>
  </p-overlayPanel>

  <div #tabListContainer class="tab-list-panel-container"></div>
</div>
