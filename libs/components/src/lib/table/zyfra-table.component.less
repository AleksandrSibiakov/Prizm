.row-status(@rowColor, @markerColor, @borderColor) {
  background-color: @rowColor !important;

  > td {
    border-color: @borderColor;
  }

  &:focus-visible,
  &.zyfra-active-element {
    background-color: @rowColor !important;
    box-shadow: inset @4px 0 0 0 @markerColor;
  }

  &.p-highlight {
    background-color: @rowColor;
  }
}

.p-treetable,
.p-datatable {
  font-size: @13px;
  box-shadow: var(--shadow-mini);
  border-top-left-radius: var(--tableBorderRadius);
  border-top-right-radius: var(--tableBorderRadius);
  overflow: hidden;

  &:not(.zyfra-table_paginator) {
    border-bottom-left-radius: var(--tableBorderRadius);
    border-bottom-right-radius: var(--tableBorderRadius);
  }

  table {
    background-color: var(--tablePrimaryRowBg);
  }

  .p-treetable-header,
  .p-datatable-header {
    display: flex;
    justify-content: space-between;
    background-color: var(--tableHeaderBg);
    padding: 0 @8px;
    line-height: @48px;
    color: var(--text);
    border-width: 0 0 @1px 0;
    border-color: var(--tableBorder);

    .zyfra-table-title {
      font-size: @14px;
      font-weight: 700;
      padding-left: @16px;
    }
  }

  &.p-datatable-gridlines .p-datatable-thead > tr th,
  &.p-datatable-gridlines .p-datatable-tbody > tr > td,
  &.p-datatable-gridlines .p-datatable-tfoot > tr > td,
  .p-treetable-thead > tr > th,
  .p-treetable-tbody > tr > td,
  .p-treetable-tfoot > tr > td {
    &:first-child {
      border-left-width: 0;
    }

    &:last-child {
      border-right-width: 0;
    }
  }

  &.p-datatable-gridlines .p-datatable-header,
  .p-treetable-header {
    border-width: 0 0 @1px 0;
  }

  &.p-datatable-gridlines .p-datatable-thead > tr > th,
  .p-treetable-thead > tr > th {
    border-width: 0 @1px @1px @1px;
  }

  tr,
  th {
    height: @32px;
  }

  .p-treetable-tbody > tr,
  .p-datatable-tbody > tr {
    background-color: var(--tablePrimaryRowBg);
    color: var(--text);
    transition: none;
    outline: none;

    &.row_status {
      &-primary {
        background-color: var(--tablePrimaryRowBg);

        > td {
          border-color: var(--tablePrimaryBorder);
        }

        &:focus-visible,
        &.zyfra-active-element {
          background-color: var(--tableActiveRowBg) !important;
          box-shadow: inset @4px 0 0 0 var(--tablePrimaryMarker);
        }

        &.p-highlight {
          background-color: var(--tableActiveRowBg);
        }

        &:hover {
          background-color: var(--tableActiveRowBg);
        }
      }

      &-warning {
        .row-status(var(--tableWarningRowBg), var(--tableWarningMarker), var(--tableWarningBorder));
      }

      &-error {
        .row-status(var(--tableErrorRowBg), var(--tableErrorMarker), var(--tableErrorBorder));
      }

      &-info {
        .row-status(var(--tableInfoRowBg), var(--tableInfoMarker), var(--tableInfoBorder));
      }
    }

    > td {
      padding: 0 @8px;
    }
  }

  .p-treetable-thead > tr,
  .p-datatable-thead > tr {
    th {
      padding: @6px @8px;
      line-height: @18px;
      background-color: var(--tableHeaderBg);
      color: var(--text);

      &.search-cell {
        position: relative;
        padding: 0 @8px;
        background-color: var(--tablePrimaryRowBg);

        .search-cell__input {
          font-family: var(--fontFamily);
          width: 100%;
          background: transparent;
          border: none;
          min-height: @32px;
          outline: none;
          padding: 0 @29px 0 0;
        }

        .search-cell__icon {
          position: absolute;
          right: @11px;
          top: calc(50% - @8px);
          font-size: @18px;
          color: var(--colorDisabled);
        }
      }
    }
  }

  &.p-datatable-gridlines .p-datatable-tfoot,
  .p-treetable-tfoot {
    > tr > td {
      border-width: @1px @1px 0 @1px;
    }
  }

  &.p-datatable-scrollable .p-datatable-tbody > tr > td,
  &.p-datatable-scrollable .p-datatable-tfoot > tr > td,
  &.p-datatable-scrollable .p-datatable-thead > tr > th {
    border-bottom: 0;
    border-right: 0;
  }

  .p-treetable-tfoot > tr > td,
  .p-datatable-tfoot > tr > td {
    background-color: var(--tableHeaderBg);
    padding: @6px @8px;
    line-height: @18px;
    color: var(--text);
    border-color: var(--tableBorder);
  }

  .p-treetable-thead > tr > th,
  .p-treetable-tbody > tr > td,
  .p-datatable-thead > tr > th,
  .p-datatable-tbody > tr > td {
    border-color: var(--tableBorder);
  }

  .pi-chevron-right,
  .pi-chevron-down {
    font-size: @10px;
    font-weight: 600;
    color: var(--eventer);
  }

  .p-paginator {
    justify-content: flex-start;
    padding: @10px @20px;
    box-shadow: var(--shadow-bottom);
  }

  .p-checkbox,
  .p-checkbox .p-checkbox-box {
    width: @16px;
    height: @16px;
  }

  .pi-filter-icon.pi-filter {
    font-size: @16px;
  }

  .p-sortable-column {
    .p-sortable-column-icon {
      font-size: @16px;
      color: var(--eventer);
      margin-left: @6px;
      float: right;
    }

    .p-sortable-column-badge {
      display: none !important;
    }

    &.p-highlight {
      background-color: var(--tableHeaderBg);

      .p-sortable-column-icon {
        color: var(--tableActiveIcon);
      }

      &:hover {
        background-color: var(--tableHeaderBg);

        .p-sortable-column-icon {
          color: var(--tableActiveIcon);
        }
      }

      &:focus {
        box-shadow: none;
        outline: none;
      }
    }

    &:focus {
      box-shadow: none;
      outline: none;
    }

    &:not(.p-highlight):hover {
      background-color: var(--tableHeaderBg);
      color: var(--text);

      .p-sortable-column-icon {
        color: var(--tableActiveIcon);
      }
    }
  }

  &.p-datatable-hoverable-rows .p-datatable-tbody,
  &.p-treetable-hoverable-rows .p-treetable-tbody {
    > tr:not(.p-highlight):hover {
      background-color: var(--tableActiveRowBg);
      color: var(--text);
    }
  }

  .p-column-filter {
    .p-column-filter-menu-button.p-column-filter-menu-button-open,
    .p-column-filter-menu-button.p-column-filter-menu-button-open:hover {
      color: var(--tableActiveIcon) !important;
    }

    .p-column-filter-menu-button.p-column-filter-menu-button-active,
    .p-column-filter-menu-button.p-column-filter-menu-button-active:hover {
      color: var(--tableActiveIcon) !important;
      background-color: transparent;
    }

    .p-column-filter-menu-button {
      width: @19px;
      height: @19px;
      color: var(--eventer);

      &:hover {
        color: var(--tableActiveIcon);
      }

      &:focus {
        box-shadow: none;
      }
    }
  }

  p-columnfilter {
    display: flex;
  }

  &.zyfra-table_striped {
    .p-datatable-tbody,
    .p-treetable-tbody {
      > tr:nth-child(even):not(:hover):not(.p-highlight) {
        background-color: var(--tableStripedRowBg);
      }
    }
  }

  .zyfra-icon {
    font-size: @17px;
    color: #7887A5;
    vertical-align: middle;
  }
}

.p-datatable-scrollable .p-datatable-tbody > tr > td,
.p-datatable-scrollable .p-datatable-tfoot > tr > td,
.p-datatable-scrollable .p-datatable-thead > tr > th {
  &.p-sortable-column {
    display: initial;
  }
}

.p-column-filter-overlay {
  background-color: var(--bgStandart);
  border-radius: @8px;
  box-shadow: var(--shadow-big);
  border: none;
}

.p-column-filter-overlay-menu .p-column-filter-operator {
  border: none;
  background-color: var(--tableHeaderBg);
}

.p-datatable {
  .zyfra-row-toggler {
    background: none;
    border: none;
    outline: none;
    cursor: pointer;
  }
}

.p-treetable {
  .p-treetable-scrollable-header,
  .p-treetable .p-treetable-scrollable-footer {
    background-color: var(--tableHeaderBg);
  }

  .p-treetable-header {
    display: flex;
    justify-content: space-between;
  }

  .p-treetable-tbody {
    > tr {
      > td {
        .p-treetable-toggler {
          width: @12px;
          height: @12px;
          margin-right: @12px;

          &:focus {
            box-shadow: none;
          }
        }

        p-treetablecheckbox .p-checkbox {
          margin-right: @10px;
        }
      }
    }
  }

  zyfra-tree-table-checkbox {
    vertical-align: middle;

    > p-treetablecheckbox {
      display: inline-block;
    }
  }
}
