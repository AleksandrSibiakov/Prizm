<ng-container
  *ngIf="!items.length; else presets">
  <pzm-primitive-calendar-range
    automation-id="pzm-calendar-range__calendars"
    pzmPreventDefault="mousedown"
    [markerHandler]="markerHandler"
    [min]="min | pzmMapper: maxLengthMapper:value:maxLength:true"
    [max]="max | pzmMapper: maxLengthMapper:value:maxLength:false"
    [defaultViewedMonthFirst]="computedMonth"
    [defaultViewedMonthSecond]="computedMonth | pzmMapper: monthShiftMapper"
    [disabledItemHandler]="calculatedDisabledItemHandler"
    [value]="value"
    (dayClick)="onDayClick($event)"
  ></pzm-primitive-calendar-range>
</ng-container>
<ng-template #presets>
    <div class="z-wrapper">
        <pzm-calendar
            automation-id="pzm-calendar-range__calendar"
            pzmPreventDefault="mousedown"
            [value]="value"
            [markerHandler]="markerHandler"
            [min]="min | pzmMapper: maxLengthMapper:value:maxLength:true"
            [max]="max | pzmMapper: maxLengthMapper:value:maxLength:false"
            [month]="computedMonth"
            [disabledItemHandler]="calculatedDisabledItemHandler"
            (dayClick)="onDayClick($event)"
        ></pzm-calendar>
        <pzm-data-list
            role="menu"
            automation-id="pzm-calendar-range__menu"
            class="z-menu"
        >
            <button
                *ngFor="let item of items | pzmMapper: mapper:min:max:minLength:(otherDateText$ | async)"
                pzmOption
                pzmPreventDefault="mousedown"
                role="menuitemradio"
                automation-id="pzm-calendar-range__menu__item"
                [attr.aria-checked]="isItemActive(item)"
                (keydown.enter.prevent)="onItemSelect(item)"
                (keydown.space.prevent)="onItemSelect(item)"
                (click)="onItemSelect(item)"
            >
                {{ item }}
            </button>
        </pzm-data-list>
    </div>
</ng-template>
