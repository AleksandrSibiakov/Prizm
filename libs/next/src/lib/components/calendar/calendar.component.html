<div class='calendar-host'>
  <ng-container *ngIf="year || clickedMonth; else calendar">
    <pzm-primitive-year-month-pagination
      automation-id="pzm-calendar__pagination"
      class="z-pagination"
      [min]="computedMinViewedMonth"
      [max]="computedMaxViewedMonth"
      [value]="month"
      [hideButtons]="true"
      [monthActive]='!!clickedMonth'
      [yearActive]='!!year'
      (valueChange)="onPaginationValueChange($event)"
      (yearClick)="onPaginationYearClick($event)"
      (monthClick)="onPaginationMonthClick($event)"
    ></pzm-primitive-year-month-pagination>
    <pzm-scrollbar
      automation-id="pzm-calendar__scrollbar"
      class="z-scrollbar"
    >
      <pzm-primitive-year-picker
        *ngIf="year; else monthPickerTemplate"
        automation-id="pzm-calendar__year"
        [min]="min"
        [max]="max"
        [initialItem]="year"
        [value]="value"
        (yearClick)="onPickerYearClick($event)"
      ></pzm-primitive-year-picker>
      <ng-template #monthPickerTemplate>
        <pzm-primitive-month-picker
          automation-id="pzm-calendar__year"
          [min]="min"
          [max]="max"
          [initialItem]="clickedMonth"
          [value]="value"
          [currentYear]='month.year'
          (monthClick)="onPickerMonthClick($event)"
        ></pzm-primitive-month-picker>
      </ng-template>
    </pzm-scrollbar>
  </ng-container>
  <ng-template #calendar>
    <pzm-primitive-year-month-pagination
      automation-id="pzm-calendar__pagination"
      class="z-pagination"
      [min]="computedMinViewedMonth"
      [max]="computedMaxViewedMonth"
      [value]="month"
      (valueChange)="onPaginationValueChange($event)"
      (yearClick)="onPaginationYearClick($event)"
      (monthClick)="onPaginationMonthClick($event)"
    ></pzm-primitive-year-month-pagination>
    <pzm-primitive-calendar
      automation-id="pzm-calendar__calendar"
      [showAdjacent]="showAdjacent"
      [value]="value"
      [month]="month"
      [daysWithStatus]="daysWithStatus"
      [disabledItemHandler]="disabledItemHandler | pzmMapper: disabledItemHandlerMapper:min:max"
      [markerHandler]="markerHandler"
      [hoveredItem]="hoveredItem"
      (hoveredItemChange)="onHoveredItemChange($event)"
      (dayClick)="onDayClick($event)"
    ></pzm-primitive-calendar>
  </ng-template>
</div>
