<ng-template #labelTemplate>
  <div
    *ngIf="label"
    class="label-container {{
      control.nativeElementType ? 'label-container-' + control.nativeElementType : ''
    }}   label-container-{{ outer ? 'outer' : 'inner' }}"
    [class.label-container-focused]="control.focused"
  >
    <label
      class="pzm-input-label
    pzm-input-label-{{ outer ? 'outer' : 'inner' }}
    pzm-input-label-{{ outer ? 'outer' : 'inner' }}-{{ position }}
    {{ control.nativeElementType ? 'pzm-input-label-' + control.nativeElementType : '' }}
"
      [attr.data-size]="size"
      [class.pzm-input-label-focused]="control.focused"
      [class.pzm-input-label-empty]="control.empty"
    >
      {{ label }}
      <span *ngIf="control.required" class="pzm-input-label-required">*</span>
    </label>
    <button
      *ngIf="showClearButton"
      pzmInputIconButton="cansel-delete-content"
      (click)="onClearClick($event)"
      class="pzm-input-label-clear-btn"
      [interactive]="true"
    ></button>
  </div>
</ng-template>

<ng-container *ngIf="!outer; else labelTemplate"></ng-container>

<div
  class="pzm-input-form
  pzm-input-form-status-{{ status }}
  pzm-input-form-{{ outer ? 'outer' : 'inner' }}
  pzm-input-form-{{ position }}
  pzm-input-form-{{ outer ? 'outer' : 'inner' }}-{{ position }}
  {{ control.nativeElementType ? 'pzm-input-form-' + control.nativeElementType : '' }}
"
  [attr.data-size]="size"
  [ngClass]="{
    'pzm-input-form-focused': control.focused,
    'pzm-input-form-empty': control.empty,
    'pzm-input-form-disabled': control.disabled,
    'pzm-input-form-touched': control.touched,
    'pzm-input-form-invalid': control.invalid
  }"
>
  <div class="pzm-input-form__first">
    <ng-content select="[pzm-input-left]" *ngIf="!control.disabled"></ng-content>

    <div class="pzm-input-form-inner-container">
      <div class="pzm-input-form-body">
        <ng-container *ngIf="outer; else labelTemplate"></ng-container>

        <ng-content></ng-content>
        <ng-content select='[pzm-input-in-body]'></ng-content>
      </div>

      <button
        *ngIf="showClearButton"
        pzmInputIconButton="cansel-delete-content"
        (click)="onClearClick($event)"
        class="pzm-input-button-default {{ showStatusButton ? '' : 'alone' }}"
        [interactive]="true"
      ></button>
      <button
        *ngIf="showStatusButton"
        [pzmInputIconButton]="statusIcon"
        [pzmHint]="statusMessage"
        class="pzm-input-form-status-button"
        [interactive]="true"
      ></button>
    </div>

    <ng-content select="[pzm-input-right]" *ngIf="!control.disabled"></ng-content>
  </div>
  <ng-content select="[pzm-input-bottom]"></ng-content>
</div>

<div class="pzm-input-form-subtext pzm-input-form-subtext-{{ status }}">
  <ng-content select="[pzm-input-subtext]"></ng-content>
</div>
