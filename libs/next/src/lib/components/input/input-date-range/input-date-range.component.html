<prizm-dropdown-host
    class="z-hosted"
    [canOpen]="canOpen"
    [content]="dropdown"
    [closeByEsc]='true'
    [isOpen]="open && canOpen"
    (isOpenChange)="onOpenChange($event)"
    prizmDropdownHostWidth='auto'
>
  <prizm-input-layout
    [label]="label"
    [outer]='outer'
    [size]="size">
    <input
      class='input-search'
      prizmInput
      #focusableElementRef
      [mask]="computedMask"
      [showMaskTyped]='focusableElementRef.focused'
      [dropSpecialCharacters]="false"
      [readOnly]="readOnly"
      [placeholder]='placeholder'
      [disabled]="computedDisabled"
      [ngModel]="stringValue"
      (ngModelChange)='onValueChange($event || "")'
    />

    <ng-container prizm-input-right>
      <button
        prizmInputIconButton="date-calendar-range"
        [interactive]="true"
        (click)='focusableElementRef.focus()'></button>
    </ng-container>
  </prizm-input-layout>
  <ng-template #dropdown>
      <prizm-calendar-range
          [defaultViewedMonth]="defaultViewedMonth"
          [disabledItemHandler]="disabledItemHandler"
          [items]="items"
          [min]="min"
          [max]="max"
          [markerHandler]="markerHandler"
          [minLength]="minLength"
          [maxLength]="maxLength"
          [value]="value"
          (valueChange)="onRangeChange($event)"
      ></prizm-calendar-range>
  </ng-template>
</prizm-dropdown-host>
