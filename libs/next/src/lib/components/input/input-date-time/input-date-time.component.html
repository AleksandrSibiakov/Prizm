<zui-dropdown-host
    [style.--zui-dropdown-host-width]='"100%"'
    class="z-hosted"
    [canOpen]="interactive"
    [content]="dropdown"
    zuiDropdownHostWidth='auto'
    [isOpen]="open && interactive"
    [closeByEsc]='true'
    (isOpenChange)="onOpenChange($event)"
>
    <zui-input-layout
      [label]="label"
      [outer]='outer'
      [size]="size">
      <ng-template zuiInputStatusText>Ошибка! Неправильный формат</ng-template>
      <input
        class='input-search'
        zuiInput
        #focusableElementRef
        [mask]="textMaskOptions"
        [showMaskTyped]='focusableElementRef.focused'
        [dropSpecialCharacters]="false"
        [readonly]='readOnly'
        [placeholder]='placeholder'
        [disabled]='computedDisabled'
        [ngModel]="stringValue"
        (ngModelChange)='onValueChange($event || "")'
      />
      <ng-container zui-input-right>
        <button
          zuiInputIconButton="date-calendar-blank"
          [interactive]="true"
          (click)='focusableElementRef.focus()'></button>
        <button
          zuiInputIconButton="date-clock"
          (click)='focusableElementRef.focus()'
          [interactive]="true"
        ></button>
        <ng-container *ngFor='let button of rightButtons$ | async' [ngTemplateOutlet]='button.template'>
        </ng-container>
      </ng-container>
    </zui-input-layout>

    <ng-template #dropdown>
        <zui-calendar
            zuiPreventDefault="mousedown"
            automation-id="zui-input-date-time__calendar"
            [min]="calendarMinDay"
            [max]="calendarMaxDay"
            [disabledItemHandler]="disabledItemHandler"
            [month]="computedActiveYearMonth"
            [value]="calendarValue"
            (dayClick)="onDayClick($event)"
            (monthChange)="onMonthChange($event)"
        ></zui-calendar>
    </ng-template>
</zui-dropdown-host>
